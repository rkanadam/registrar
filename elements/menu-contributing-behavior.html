<script>
    var MenuContributingBehavior = {
        properties: {
            menu: {
                type: Object,
                value: function () {
                    return this._emptyMenu();
                },
                notify: true
            }
        },

        listeners: {
            "after-page-select": "_onPageSelected"
        },

        _onPageSelected: function () {
            if (typeof(this.buildMenu) === "function") {
                this.buildMenu();
            } else {
                console.log("Could not find a menu build function for : ", this);
            }
        },

        _emptyMenu: function () {
            return {
                id: "",
                label: "",
                children: []
            };
        }
    };
    AppBehaviors.MenuContributingBehavior = MenuContributingBehavior;
</script>